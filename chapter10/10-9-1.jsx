(function(){    // ファイル選択ダイアログを表示する    var fileObj = File.openDialog("空行を削除するテキストファイルを選択してください");    if (!fileObj){ return; }    // キャンセルされた場合は何も処理しない    // ファイル保存ダイアログを表示する    var saveObj = File.saveDialog("保存先を指定してください");    if (!saveObj){ return; }    // キャンセルされた場合は何も処理しない    // ファイルが読み込めるかどうか調べる    var flag = fileObj.open("r");   // 読み込みモードで開く    if (!flag){        alert("ファイルが開けません");        return;    }    // 書き込めるかどうか調べる    flag = saveObj.open("w");    if (!flag){        alert("ファイルが書き込めません");    }    // 何行以上の空行を削除するかを変数に入れる    var maxNullLine = 1;   // 1行の空行が連続した場合    // 空行をカウントするための変数    var count = 0;    // ファイルの最後まで繰り返し処理する    while(!fileObj.eof){        var line = fileObj.readln();    // 1行読み込む        // 空行かどうか調べる        if (line == ""){            count = count + 1;            if (count < maxNullLine){                saveObj.writeln();            }        }else{            saveObj.writeln(line);  // 書き出す            count = 0;  // 空行カウンタをリセットする        }    }    saveObj.close();    alert("終了しました");})();